/*

// Based on https://www.youtube.com/watch?v=P2bGF6GPmfc
static void GenerateRayCellInteractionMaskLUT(uint64_t table[64 * 8]) {
    for (uint64_t dirOct = 0; dirOct < 8; dirOct++) {
        glm::ivec3 dir = (glm::ivec3(dirOct) >> glm::ivec3(0, 1, 2) & 1) * 2 - 1;

        for (uint64_t originIdx = 0; originIdx < 64; originIdx++) {
            uint64_t mask = 0;

            for (uint64_t j = 0; j < 64; j++) {
                glm::ivec3 pos = MaskIndexer::GetPos(originIdx) + MaskIndexer::GetPos(j) * dir;

                if (MaskIndexer::CheckInBounds(pos)) {
                    mask |= 1ull << MaskIndexer::GetIndex(pos);
                }
            }
            table[originIdx + dirOct * 64] = mask;
        }
    }
}

    uint64_t interactionMaskLUT[64 * 8];
    GenerateRayCellInteractionMaskLUT(interactionMaskLUT);

    printf("---- TABLE BEGIN ----\n");
    for (uint32_t d = 0; d < 8; d++) {
        printf("// Octant #%d (%d %d %d)\n", d, int(d>>0&1)*2-1, int(d>>1&1)*2-1, int(d>>2&1)*2-1);

        for (uint32_t p = 0; p < 64; p++) {
            if (p != 0 && p % 8 == 0) printf("\n");
            printf("0x%016lXull, ", interactionMaskLUT[p+d*64]);
        }
        printf("\n");
    }
    printf("---- TABLE END ----\n");
*/

public static const uint64_t RayMaskOptimizationLUT[] = {
    // Octant #0 (-1 -1 -1)
    0x0000000000000001ull, 0x0000000000000003ull, 0x0000000000000007ull, 0x000000000000000Full, 0x0000000000000011ull, 0x0000000000000033ull, 0x0000000000000077ull, 0x00000000000000FFull, 
    0x0000000000000111ull, 0x0000000000000333ull, 0x0000000000000777ull, 0x0000000000000FFFull, 0x0000000000001111ull, 0x0000000000003333ull, 0x0000000000007777ull, 0x000000000000FFFFull, 
    0x0000000000010001ull, 0x0000000000030003ull, 0x0000000000070007ull, 0x00000000000F000Full, 0x0000000000110011ull, 0x0000000000330033ull, 0x0000000000770077ull, 0x0000000000FF00FFull, 
    0x0000000001110111ull, 0x0000000003330333ull, 0x0000000007770777ull, 0x000000000FFF0FFFull, 0x0000000011111111ull, 0x0000000033333333ull, 0x0000000077777777ull, 0x00000000FFFFFFFFull, 
    0x0000000100010001ull, 0x0000000300030003ull, 0x0000000700070007ull, 0x0000000F000F000Full, 0x0000001100110011ull, 0x0000003300330033ull, 0x0000007700770077ull, 0x000000FF00FF00FFull, 
    0x0000011101110111ull, 0x0000033303330333ull, 0x0000077707770777ull, 0x00000FFF0FFF0FFFull, 0x0000111111111111ull, 0x0000333333333333ull, 0x0000777777777777ull, 0x0000FFFFFFFFFFFFull, 
    0x0001000100010001ull, 0x0003000300030003ull, 0x0007000700070007ull, 0x000F000F000F000Full, 0x0011001100110011ull, 0x0033003300330033ull, 0x0077007700770077ull, 0x00FF00FF00FF00FFull, 
    0x0111011101110111ull, 0x0333033303330333ull, 0x0777077707770777ull, 0x0FFF0FFF0FFF0FFFull, 0x1111111111111111ull, 0x3333333333333333ull, 0x7777777777777777ull, 0xFFFFFFFFFFFFFFFFull, 
    // Octant #1 (1 -1 -1)
    0x000000000000000Full, 0x000000000000000Eull, 0x000000000000000Cull, 0x0000000000000008ull, 0x00000000000000FFull, 0x00000000000000EEull, 0x00000000000000CCull, 0x0000000000000088ull, 
    0x0000000000000FFFull, 0x0000000000000EEEull, 0x0000000000000CCCull, 0x0000000000000888ull, 0x000000000000FFFFull, 0x000000000000EEEEull, 0x000000000000CCCCull, 0x0000000000008888ull, 
    0x00000000000F000Full, 0x00000000000E000Eull, 0x00000000000C000Cull, 0x0000000000080008ull, 0x0000000000FF00FFull, 0x0000000000EE00EEull, 0x0000000000CC00CCull, 0x0000000000880088ull, 
    0x000000000FFF0FFFull, 0x000000000EEE0EEEull, 0x000000000CCC0CCCull, 0x0000000008880888ull, 0x00000000FFFFFFFFull, 0x00000000EEEEEEEEull, 0x00000000CCCCCCCCull, 0x0000000088888888ull, 
    0x0000000F000F000Full, 0x0000000E000E000Eull, 0x0000000C000C000Cull, 0x0000000800080008ull, 0x000000FF00FF00FFull, 0x000000EE00EE00EEull, 0x000000CC00CC00CCull, 0x0000008800880088ull, 
    0x00000FFF0FFF0FFFull, 0x00000EEE0EEE0EEEull, 0x00000CCC0CCC0CCCull, 0x0000088808880888ull, 0x0000FFFFFFFFFFFFull, 0x0000EEEEEEEEEEEEull, 0x0000CCCCCCCCCCCCull, 0x0000888888888888ull, 
    0x000F000F000F000Full, 0x000E000E000E000Eull, 0x000C000C000C000Cull, 0x0008000800080008ull, 0x00FF00FF00FF00FFull, 0x00EE00EE00EE00EEull, 0x00CC00CC00CC00CCull, 0x0088008800880088ull, 
    0x0FFF0FFF0FFF0FFFull, 0x0EEE0EEE0EEE0EEEull, 0x0CCC0CCC0CCC0CCCull, 0x0888088808880888ull, 0xFFFFFFFFFFFFFFFFull, 0xEEEEEEEEEEEEEEEEull, 0xCCCCCCCCCCCCCCCCull, 0x8888888888888888ull, 
    // Octant #2 (-1 1 -1)
    0x0001000100010001ull, 0x0003000300030003ull, 0x0007000700070007ull, 0x000F000F000F000Full, 0x0011001100110011ull, 0x0033003300330033ull, 0x0077007700770077ull, 0x00FF00FF00FF00FFull, 
    0x0111011101110111ull, 0x0333033303330333ull, 0x0777077707770777ull, 0x0FFF0FFF0FFF0FFFull, 0x1111111111111111ull, 0x3333333333333333ull, 0x7777777777777777ull, 0xFFFFFFFFFFFFFFFFull, 
    0x0001000100010000ull, 0x0003000300030000ull, 0x0007000700070000ull, 0x000F000F000F0000ull, 0x0011001100110000ull, 0x0033003300330000ull, 0x0077007700770000ull, 0x00FF00FF00FF0000ull, 
    0x0111011101110000ull, 0x0333033303330000ull, 0x0777077707770000ull, 0x0FFF0FFF0FFF0000ull, 0x1111111111110000ull, 0x3333333333330000ull, 0x7777777777770000ull, 0xFFFFFFFFFFFF0000ull, 
    0x0001000100000000ull, 0x0003000300000000ull, 0x0007000700000000ull, 0x000F000F00000000ull, 0x0011001100000000ull, 0x0033003300000000ull, 0x0077007700000000ull, 0x00FF00FF00000000ull, 
    0x0111011100000000ull, 0x0333033300000000ull, 0x0777077700000000ull, 0x0FFF0FFF00000000ull, 0x1111111100000000ull, 0x3333333300000000ull, 0x7777777700000000ull, 0xFFFFFFFF00000000ull, 
    0x0001000000000000ull, 0x0003000000000000ull, 0x0007000000000000ull, 0x000F000000000000ull, 0x0011000000000000ull, 0x0033000000000000ull, 0x0077000000000000ull, 0x00FF000000000000ull, 
    0x0111000000000000ull, 0x0333000000000000ull, 0x0777000000000000ull, 0x0FFF000000000000ull, 0x1111000000000000ull, 0x3333000000000000ull, 0x7777000000000000ull, 0xFFFF000000000000ull, 
    // Octant #3 (1 1 -1)
    0x000F000F000F000Full, 0x000E000E000E000Eull, 0x000C000C000C000Cull, 0x0008000800080008ull, 0x00FF00FF00FF00FFull, 0x00EE00EE00EE00EEull, 0x00CC00CC00CC00CCull, 0x0088008800880088ull, 
    0x0FFF0FFF0FFF0FFFull, 0x0EEE0EEE0EEE0EEEull, 0x0CCC0CCC0CCC0CCCull, 0x0888088808880888ull, 0xFFFFFFFFFFFFFFFFull, 0xEEEEEEEEEEEEEEEEull, 0xCCCCCCCCCCCCCCCCull, 0x8888888888888888ull, 
    0x000F000F000F0000ull, 0x000E000E000E0000ull, 0x000C000C000C0000ull, 0x0008000800080000ull, 0x00FF00FF00FF0000ull, 0x00EE00EE00EE0000ull, 0x00CC00CC00CC0000ull, 0x0088008800880000ull, 
    0x0FFF0FFF0FFF0000ull, 0x0EEE0EEE0EEE0000ull, 0x0CCC0CCC0CCC0000ull, 0x0888088808880000ull, 0xFFFFFFFFFFFF0000ull, 0xEEEEEEEEEEEE0000ull, 0xCCCCCCCCCCCC0000ull, 0x8888888888880000ull, 
    0x000F000F00000000ull, 0x000E000E00000000ull, 0x000C000C00000000ull, 0x0008000800000000ull, 0x00FF00FF00000000ull, 0x00EE00EE00000000ull, 0x00CC00CC00000000ull, 0x0088008800000000ull, 
    0x0FFF0FFF00000000ull, 0x0EEE0EEE00000000ull, 0x0CCC0CCC00000000ull, 0x0888088800000000ull, 0xFFFFFFFF00000000ull, 0xEEEEEEEE00000000ull, 0xCCCCCCCC00000000ull, 0x8888888800000000ull, 
    0x000F000000000000ull, 0x000E000000000000ull, 0x000C000000000000ull, 0x0008000000000000ull, 0x00FF000000000000ull, 0x00EE000000000000ull, 0x00CC000000000000ull, 0x0088000000000000ull, 
    0x0FFF000000000000ull, 0x0EEE000000000000ull, 0x0CCC000000000000ull, 0x0888000000000000ull, 0xFFFF000000000000ull, 0xEEEE000000000000ull, 0xCCCC000000000000ull, 0x8888000000000000ull, 
    // Octant #4 (-1 -1 1)
    0x0000000000001111ull, 0x0000000000003333ull, 0x0000000000007777ull, 0x000000000000FFFFull, 0x0000000000001110ull, 0x0000000000003330ull, 0x0000000000007770ull, 0x000000000000FFF0ull, 
    0x0000000000001100ull, 0x0000000000003300ull, 0x0000000000007700ull, 0x000000000000FF00ull, 0x0000000000001000ull, 0x0000000000003000ull, 0x0000000000007000ull, 0x000000000000F000ull, 
    0x0000000011111111ull, 0x0000000033333333ull, 0x0000000077777777ull, 0x00000000FFFFFFFFull, 0x0000000011101110ull, 0x0000000033303330ull, 0x0000000077707770ull, 0x00000000FFF0FFF0ull, 
    0x0000000011001100ull, 0x0000000033003300ull, 0x0000000077007700ull, 0x00000000FF00FF00ull, 0x0000000010001000ull, 0x0000000030003000ull, 0x0000000070007000ull, 0x00000000F000F000ull, 
    0x0000111111111111ull, 0x0000333333333333ull, 0x0000777777777777ull, 0x0000FFFFFFFFFFFFull, 0x0000111011101110ull, 0x0000333033303330ull, 0x0000777077707770ull, 0x0000FFF0FFF0FFF0ull, 
    0x0000110011001100ull, 0x0000330033003300ull, 0x0000770077007700ull, 0x0000FF00FF00FF00ull, 0x0000100010001000ull, 0x0000300030003000ull, 0x0000700070007000ull, 0x0000F000F000F000ull, 
    0x1111111111111111ull, 0x3333333333333333ull, 0x7777777777777777ull, 0xFFFFFFFFFFFFFFFFull, 0x1110111011101110ull, 0x3330333033303330ull, 0x7770777077707770ull, 0xFFF0FFF0FFF0FFF0ull, 
    0x1100110011001100ull, 0x3300330033003300ull, 0x7700770077007700ull, 0xFF00FF00FF00FF00ull, 0x1000100010001000ull, 0x3000300030003000ull, 0x7000700070007000ull, 0xF000F000F000F000ull, 
    // Octant #5 (1 -1 1)
    0x000000000000FFFFull, 0x000000000000EEEEull, 0x000000000000CCCCull, 0x0000000000008888ull, 0x000000000000FFF0ull, 0x000000000000EEE0ull, 0x000000000000CCC0ull, 0x0000000000008880ull, 
    0x000000000000FF00ull, 0x000000000000EE00ull, 0x000000000000CC00ull, 0x0000000000008800ull, 0x000000000000F000ull, 0x000000000000E000ull, 0x000000000000C000ull, 0x0000000000008000ull, 
    0x00000000FFFFFFFFull, 0x00000000EEEEEEEEull, 0x00000000CCCCCCCCull, 0x0000000088888888ull, 0x00000000FFF0FFF0ull, 0x00000000EEE0EEE0ull, 0x00000000CCC0CCC0ull, 0x0000000088808880ull, 
    0x00000000FF00FF00ull, 0x00000000EE00EE00ull, 0x00000000CC00CC00ull, 0x0000000088008800ull, 0x00000000F000F000ull, 0x00000000E000E000ull, 0x00000000C000C000ull, 0x0000000080008000ull, 
    0x0000FFFFFFFFFFFFull, 0x0000EEEEEEEEEEEEull, 0x0000CCCCCCCCCCCCull, 0x0000888888888888ull, 0x0000FFF0FFF0FFF0ull, 0x0000EEE0EEE0EEE0ull, 0x0000CCC0CCC0CCC0ull, 0x0000888088808880ull, 
    0x0000FF00FF00FF00ull, 0x0000EE00EE00EE00ull, 0x0000CC00CC00CC00ull, 0x0000880088008800ull, 0x0000F000F000F000ull, 0x0000E000E000E000ull, 0x0000C000C000C000ull, 0x0000800080008000ull, 
    0xFFFFFFFFFFFFFFFFull, 0xEEEEEEEEEEEEEEEEull, 0xCCCCCCCCCCCCCCCCull, 0x8888888888888888ull, 0xFFF0FFF0FFF0FFF0ull, 0xEEE0EEE0EEE0EEE0ull, 0xCCC0CCC0CCC0CCC0ull, 0x8880888088808880ull, 
    0xFF00FF00FF00FF00ull, 0xEE00EE00EE00EE00ull, 0xCC00CC00CC00CC00ull, 0x8800880088008800ull, 0xF000F000F000F000ull, 0xE000E000E000E000ull, 0xC000C000C000C000ull, 0x8000800080008000ull, 
    // Octant #6 (-1 1 1)
    0x1111111111111111ull, 0x3333333333333333ull, 0x7777777777777777ull, 0xFFFFFFFFFFFFFFFFull, 0x1110111011101110ull, 0x3330333033303330ull, 0x7770777077707770ull, 0xFFF0FFF0FFF0FFF0ull, 
    0x1100110011001100ull, 0x3300330033003300ull, 0x7700770077007700ull, 0xFF00FF00FF00FF00ull, 0x1000100010001000ull, 0x3000300030003000ull, 0x7000700070007000ull, 0xF000F000F000F000ull, 
    0x1111111111110000ull, 0x3333333333330000ull, 0x7777777777770000ull, 0xFFFFFFFFFFFF0000ull, 0x1110111011100000ull, 0x3330333033300000ull, 0x7770777077700000ull, 0xFFF0FFF0FFF00000ull, 
    0x1100110011000000ull, 0x3300330033000000ull, 0x7700770077000000ull, 0xFF00FF00FF000000ull, 0x1000100010000000ull, 0x3000300030000000ull, 0x7000700070000000ull, 0xF000F000F0000000ull, 
    0x1111111100000000ull, 0x3333333300000000ull, 0x7777777700000000ull, 0xFFFFFFFF00000000ull, 0x1110111000000000ull, 0x3330333000000000ull, 0x7770777000000000ull, 0xFFF0FFF000000000ull,
    0x1100110000000000ull, 0x3300330000000000ull, 0x7700770000000000ull, 0xFF00FF0000000000ull, 0x1000100000000000ull, 0x3000300000000000ull, 0x7000700000000000ull, 0xF000F00000000000ull,
    0x1111000000000000ull, 0x3333000000000000ull, 0x7777000000000000ull, 0xFFFF000000000000ull, 0x1110000000000000ull, 0x3330000000000000ull, 0x7770000000000000ull, 0xFFF0000000000000ull,
    0x1100000000000000ull, 0x3300000000000000ull, 0x7700000000000000ull, 0xFF00000000000000ull, 0x1000000000000000ull, 0x3000000000000000ull, 0x7000000000000000ull, 0xF000000000000000ull,
    // Octant #7 (1 1 1)
    0xFFFFFFFFFFFFFFFFull, 0xEEEEEEEEEEEEEEEEull, 0xCCCCCCCCCCCCCCCCull, 0x8888888888888888ull, 0xFFF0FFF0FFF0FFF0ull, 0xEEE0EEE0EEE0EEE0ull, 0xCCC0CCC0CCC0CCC0ull, 0x8880888088808880ull, 
    0xFF00FF00FF00FF00ull, 0xEE00EE00EE00EE00ull, 0xCC00CC00CC00CC00ull, 0x8800880088008800ull, 0xF000F000F000F000ull, 0xE000E000E000E000ull, 0xC000C000C000C000ull, 0x8000800080008000ull, 
    0xFFFFFFFFFFFF0000ull, 0xEEEEEEEEEEEE0000ull, 0xCCCCCCCCCCCC0000ull, 0x8888888888880000ull, 0xFFF0FFF0FFF00000ull, 0xEEE0EEE0EEE00000ull, 0xCCC0CCC0CCC00000ull, 0x8880888088800000ull, 
    0xFF00FF00FF000000ull, 0xEE00EE00EE000000ull, 0xCC00CC00CC000000ull, 0x8800880088000000ull, 0xF000F000F0000000ull, 0xE000E000E0000000ull, 0xC000C000C0000000ull, 0x8000800080000000ull,
    0xFFFFFFFF00000000ull, 0xEEEEEEEE00000000ull, 0xCCCCCCCC00000000ull, 0x8888888800000000ull, 0xFFF0FFF000000000ull, 0xEEE0EEE000000000ull, 0xCCC0CCC000000000ull, 0x8880888000000000ull,
    0xFF00FF0000000000ull, 0xEE00EE0000000000ull, 0xCC00CC0000000000ull, 0x8800880000000000ull, 0xF000F00000000000ull, 0xE000E00000000000ull, 0xC000C00000000000ull, 0x8000800000000000ull,
    0xFFFF000000000000ull, 0xEEEE000000000000ull, 0xCCCC000000000000ull, 0x8888000000000000ull, 0xFFF0000000000000ull, 0xEEE0000000000000ull, 0xCCC0000000000000ull, 0x8880000000000000ull, 
    0xFF00000000000000ull, 0xEE00000000000000ull, 0xCC00000000000000ull, 0x8800000000000000ull, 0xF000000000000000ull, 0xE000000000000000ull, 0xC000000000000000ull, 0x8000000000000000ull, 
};